<Window x:Class="ToastFish.View.RandomScheduleSettings"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="随机抽背设置" Height="650" Width="600"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize" MinWidth="500" MinHeight="500">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="20" Orientation="Vertical">

            <!-- 标题 -->
            <TextBlock Text="随机抽背设置" FontSize="18" FontWeight="Bold"
                       HorizontalAlignment="Center" Margin="0,0,0,20"/>

            <!-- 基本设置 -->
            <GroupBox Header="基本设置" Margin="0,0,0,15">
                <StackPanel Margin="15">
                    <CheckBox x:Name="EnableCheckBox" Content="启用随机抽背功能"
                              IsChecked="{Binding IsEnabled}" FontSize="14" Margin="0,5"/>
                    <TextBlock Text="启用后将在指定时间段内随机推送单词进行抽背"
                               FontSize="12" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- 抽背时间段 -->
            <GroupBox Header="抽背时间段" Margin="0,0,0,15">
                <StackPanel Margin="15">
                    <StackPanel Orientation="Horizontal" Margin="0,5">
                        <TextBlock Text="开始时间:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <TextBox x:Name="StartTimeTextBox" Text="{Binding StartTimeString}"
                                 Height="25" Width="100" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,10">
                        <TextBlock Text="结束时间:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <TextBox x:Name="EndTimeTextBox" Text="{Binding EndTimeString}"
                                 Height="25" Width="100" Margin="10,0,0,0"/>
                    </StackPanel>

                    <TextBlock Text="时间格式: HH:mm (例如: 09:00, 17:30)"
                               FontSize="12" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- 随机间隔设置 -->
            <GroupBox Header="随机间隔设置" Margin="0,0,0,15">
                <StackPanel Margin="15">
                    <StackPanel Orientation="Horizontal" Margin="0,5">
                        <TextBlock Text="最小间隔:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <TextBox x:Name="MinIntervalTextBox" Text="{Binding MinIntervalMinutes}"
                                 Height="25" Width="80" Margin="10,0,5,0"/>
                        <TextBlock Text="分钟" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,10">
                        <TextBlock Text="最大间隔:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <TextBox x:Name="MaxIntervalTextBox" Text="{Binding MaxIntervalMinutes}"
                                 Height="25" Width="80" Margin="10,0,5,0"/>
                        <TextBlock Text="分钟" VerticalAlignment="Center"/>
                    </StackPanel>

                    <TextBlock Text="系统将在此范围内随机选择下次抽背的时间间隔"
                               FontSize="12" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- 单词数量设置 -->
            <GroupBox Header="单词数量设置" Margin="0,0,0,15">
                <StackPanel Margin="15">
                    <StackPanel Orientation="Horizontal" Margin="0,5">
                        <TextBlock Text="抽背数量:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <ComboBox x:Name="WordCountComboBox" SelectedValue="{Binding WordCount}" SelectedValuePath="Content"
                                  Height="25" Width="80" Margin="10,0,5,0">
                            <ComboBoxItem Content="1" />
                            <ComboBoxItem Content="3" />
                            <ComboBoxItem Content="5" />
                            <ComboBoxItem Content="10" />
                            <ComboBoxItem Content="15" />
                            <ComboBoxItem Content="20" />
                        </ComboBox>
                        <TextBlock Text="个单词" VerticalAlignment="Center"/>
                    </StackPanel>

                    <TextBlock Text="设置每次随机抽背的单词数量。选择1个时为简单模式，多个时为完整抽背流程"
                               FontSize="12" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- 勿扰模式 -->
            <GroupBox Header="勿扰模式" Margin="0,0,0,15">
                <StackPanel Margin="15">
                    <CheckBox x:Name="DoNotDisturbCheckBox" Content="启用勿扰模式"
                              IsChecked="{Binding IsDoNotDisturbEnabled}" FontSize="14" Margin="0,5"/>

                    <StackPanel Orientation="Horizontal" Margin="0,10" IsEnabled="{Binding IsDoNotDisturbEnabled}">
                        <TextBlock Text="勿扰开始:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <TextBox x:Name="DoNotDisturbStartTextBox" Text="{Binding DoNotDisturbStartString}"
                                 Height="25" Width="100" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,10" IsEnabled="{Binding IsDoNotDisturbEnabled}">
                        <TextBlock Text="勿扰结束:" VerticalAlignment="Center" Width="100" FontWeight="Bold"/>
                        <TextBox x:Name="DoNotDisturbEndTextBox" Text="{Binding DoNotDisturbEndString}"
                                 Height="25" Width="100" Margin="10,0,0,0"/>
                    </StackPanel>

                    <TextBlock Text="在勿扰时间段内不会推送抽背通知"
                               FontSize="12" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- 当前状态 -->
            <GroupBox Header="当前状态" Margin="0,0,0,15">
                <StackPanel Margin="15">
                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <TextBlock Text="运行状态:" Width="100" FontWeight="Bold"/>
                        <TextBlock x:Name="StatusTextBlock" Text="未启用" FontSize="12" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <TextBlock Text="下次抽背:" Width="100" FontWeight="Bold"/>
                        <TextBlock x:Name="NextTimeTextBlock" Text="--" FontSize="12" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,2">
                        <TextBlock Text="当前时间:" Width="100" FontWeight="Bold"/>
                        <TextBlock x:Name="CurrentTimeTextBlock" Text="--" FontSize="12" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,15,0,0">
                        <Button x:Name="TestButton" Content="测试抽背" Width="80" Height="30"
                                Margin="0,0,10,0" Click="TestButton_Click"/>
                        <Button x:Name="StartStopButton" Content="启动" Width="80" Height="30"
                                Margin="0,0,10,0" Click="StartStopButton_Click"/>
                        <Button x:Name="DebugButton" Content="调试信息" Width="80" Height="30"
                                Click="DebugButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 按钮区域 -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button x:Name="SaveButton" Content="保存" Width="80" Height="35"
                        Margin="0,0,10,0" Click="SaveButton_Click"/>
                <Button x:Name="CancelButton" Content="取消" Width="80" Height="35"
                        Click="CancelButton_Click"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>
